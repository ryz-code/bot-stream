<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20,400,1,0" />
    {{hides|safe}}<link rel="stylesheet" href="https://unpkg.com/video.js/dist/video-js.css">
    <script src="https://unpkg.com/video.js/dist/video.js"></script> {{hidee|safe}}
    <link
      rel="stylesheet"
      href="{{ url('static', filename='styles/dl.css') }}"/>
    <style>
        #snackbar {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 2px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
        }

        #snackbar.show {
            visibility: visible;
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @-webkit-keyframes fadein {
            from { bottom: 0; opacity: 0; }
            to { bottom: 30px; opacity: 1; }
        }

        @keyframes fadein {
            from { bottom: 0; opacity: 0; }
            to { bottom: 30px; opacity: 1; }
        }

        @-webkit-keyframes fadeout {
            from { bottom: 30px; opacity: 1; }
            to { bottom: 0; opacity: 0; }
        }

        @keyframes fadeout {
            from { bottom: 30px; opacity: 1; }
            to { bottom: 0; opacity: 0; }
        }
    </style>
    <script>
        function toClipboard(){
            navigator.clipboard.writeText("{{download_link}}")
            snackbar('Link Copied to Clipboard')
        }
        function snackbar(text) {
            var x = document.getElementById("snackbar");
            x.innerHTML = text;
            x.className = "show";
            setTimeout(function () { x.className = x.className.replace("show", ""); x.innerHTML = ""; }, 3000);
        }
    </script>
</head>

<body>
    <div class="header">
        <h1><a href="https://t.me/DirectLinkGenerator_Bot">Public Link Generator</a></h1>
    </div>
    <div class="container">
        <div id="snackbar"></div>
        
        {{hides|safe}}<div class="videoPlayer">
            <{{tag}} id="videoPlayer" class="video-js vjs-default-skin" controls data-setup='{"fluid": true}'>
                <source src="{{download_link}}" type="video/mp4">
            </{{tag}}>
        </div>{{hidee|safe}}
        <div class="file">
            <div class="filename">
                <p>{{file_name}}</p>
            </div>
            <hr>
            <div class="filebtn">
                <a href="{{download_link}}">
                    <div>
                        <span class="material-symbols-rounded">cloud_download</span>
                        <p>Download</p>
                    </div>
                </a>
                <div onclick="toClipboard();">
                    <span class="material-symbols-rounded">link</span>
                    <p>Copy Link</p>
                </div>
                {{hides|safe}}<div onclick="snackbar('ToDo');">
                    <span class="material-symbols-rounded">open_in_new</span>
                    <p>Open In</p>
                </div>{{hidee|safe}}
                <div onclick="snackbar('ToDo');">
                    <span class="material-symbols-rounded">report</span>
                    <p>Report</p>
                </div>
            </div>
            <hr>
            <div class="fileinfo">
                <div class="fileinfo2">
                    <span class="material-symbols-rounded">file_copy</span>
                    <p>File Name: : {{file_name}}</p>
                </div>
                <div class="fileinfo2">
                    <span class="material-symbols-rounded">storage</span>
                    <p>File Size : {{file_size}}</p>
                </div>
                <div class="fileinfo2">
                    <span class="material-symbols-rounded">person</span>
                    <p>Uploaded By : <a href="tg://user?id={{user_id}}">{{user_id}}</a></p>
                </div>
                <div class="fileinfo2">
                    <span class="material-symbols-rounded">schedule</span>
                    <p>Uploaded On : {{time}}</p>
                </div>
            </div>
            <hr>
            <div class="disclaimer">
                <p>This content may be copyrighted. If you believe this is unauthorized, please <a href="mailto:shdeekshith@gmail.com">contact me</a>.
                    <br>Email: shdeekshith@gmail.com
                </p>
            </div>
        </div>
    </div>
    {{hides|safe}}<script>
        var player = videojs('videoPlayer');
    </script>{{hidee|safe}}
</body>
</html>
